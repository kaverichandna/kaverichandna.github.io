<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Kaveri Chandna | Tutorials - Blinky with ESP-IDF in VS Code on ESP32-C3</title>
  

  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <link rel="canonical" href="http://localhost:4000/tutorials/blinky-esp-idf-esp32c3" />
  <meta name="description" content="Blinky with ESP-IDF in VS Code on ESP32-C3">
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="Hutscape"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="http://localhost:4000/tutorials/blinky-esp-idf-esp32c3"/>
  <meta property="og:title" content="Blinky with ESP-IDF in VS Code on ESP32-C3"/>
  <meta property="og:description" content="Blinky with ESP-IDF in VS Code on ESP32-C3"/>
  
  <meta property="og:image"
    content="http://localhost:4000/assets/images/tutorials/blinky-esp32c3-prototype.jpg" />
  <meta property="og:image:width" content="1000" />
  <meta property="og:image:height" content="1000" />
  

  <link rel="shortcut icon" href="http://localhost:4000/assets/favicon.ico"/>
  <link rel="icon" type="image/png" sizes="192x192" href="http://localhost:4000/assets/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="http://localhost:4000/assets/android-chrome-512x512.png">
  <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/assets/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/assets/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/assets/favicon-32x32.png">
  <link rel="manifest" href="http://localhost:4000/assets/site.webmanifest">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.9.1/css/bulma.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/a11y-dark.min.css">
  <link href="//fonts.googleapis.com/css?family=Schoolbell&display=swap" rel="stylesheet">

  <style>
    .highlight { overflow: auto; margin: 24px 0;}
    figure.highlight { max-height: 600px; }
    .content figure { text-align: inherit; }

    .level { margin-bottom: 0 !important; }
    .handwriting { font-family: 'Schoolbell', cursive; transform: rotate(-5deg); margin: 0 0.5em; line-height: 1; }
  </style>

  

  
  <style>
    .video-container { position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden; }
    .video-container iframe, .video-container object, .video-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    .content img { display: block; margin: 30px; max-width: 800px; border: #efefef 20px solid; }
  </style>
  
</head>
<body>

<nav class="navbar is-spaced has-shadow" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="/"> Kaveri Chandna </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navMenu" class="navbar-menu">
    <div class="navbar-start"><a class="navbar-item" href="/tutorials">Tutorials</a><a class="navbar-item" href="/checklists">Checklists</a><a class="navbar-item" href="/tools">Tools</a></div>

    <div class="navbar-end">
      <div class="navbar-item">
        <div class="buttons">
          <p class="handwriting has-text-grey-light">Spotted <br>a mistake?</p>
          <a class="button is-primary" href="https://github.com/kaverichandna/kaverichandna.github.io/blob/master/_tutorials/blinky-esp-idf-esp32c3.md"><strong>Edit this page</strong></a>
          <a class="button is-light" href="https://github.com/kaverichandna/kaverichandna.github.io">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>
            <span>GitHub</span>
          </a>
          <a class="button is-light" href="">
            <span class="icon">
              <i class="fab fa-youtube"></i>
            </span>
            <span>YouTube</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>
<section class="section is-small">
  <div class="container">
    <h1 class="title is-1 has-background-info-light">Blinky with ESP-IDF in VS Code on ESP32-C3</h1>
    <div class="field is-grouped is-grouped-multiline">
      
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-danger">dev board</span>
          <span class="tag is-light">ESP32-C3-DevKitM-1</span>
        </div>
      </div>
      

      

      
      
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-warning">chip</span>
          <span class="tag is-light">ESP32-C3-MINI-1-N4</span>
        </div>
      </div>
      
      

      

      

      
      <div class="control">
        <div class="tags has-addons">
          <span class="tag is-light is-success">features</span>
          
          <span class="tag is-light">esp-idf</span>
          
          <span class="tag is-light">blinky</span>
          
          <span class="tag is-light">esp32c3</span>
          
          <span class="tag is-light">vscode</span>
          
        </div>
      </div>
      

      
    </div>
    <hr>

    
    <h2 class="title is-2">Before starting</h2>
    

    <div class="columns is-desktop">
      
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">Dependancies</p>
          </header>

          <div class="card-content">
            <div class="content">Ensure the following dependancies are downloaded and available:</div>
            <div class="content">
              <ul>
                
                <li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/get-started/index.html#ide">ESP-IDF VS Code IDE Installation</a></li>
                
              </ul>
            </div>
          </div>
        </div>
      </div>
      

      

      
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">Buy the components</p>
          </header>

          <div class="card-content">
            <div class="content">
              <ol>
                
                <li><a href="https://www.aliexpress.com/item/1005003989099547.html">ESP32-C3-DevKitM-1</a></li>
                
              </ol>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</section>

<section class="section is-small">
  <div class="container">
    <h2 class="title is-2">Code</h2>
    

    
      <!-- For C/C++ file code examples -->
      <a href="https://github.com/kaverichandna/kaverichandna.github.io/tree/master/_tutorials/code/blinky-esp-idf-esp32c3" class="button is-primary">Download code</a>
      <code class="is-size-4">blink/main/blink_example_main.c</code>
      
        
<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cm">/* Blink Example

   This example code is in the Public Domain (or CC0 licensed, at your option.)

   Unless required by applicable law or agreed to in writing, this
   software is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   CONDITIONS OF ANY KIND, either express or implied.
*/</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
#include</span> <span class="cpf">"freertos/FreeRTOS.h"</span><span class="cp">
#include</span> <span class="cpf">"freertos/task.h"</span><span class="cp">
#include</span> <span class="cpf">"driver/gpio.h"</span><span class="cp">
#include</span> <span class="cpf">"esp_log.h"</span><span class="cp">
#include</span> <span class="cpf">"led_strip.h"</span><span class="cp">
#include</span> <span class="cpf">"sdkconfig.h"</span><span class="cp">
</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">TAG</span> <span class="o">=</span> <span class="s">"example"</span><span class="p">;</span>

<span class="cm">/* Use project configuration menu (idf.py menuconfig) to choose the GPIO to blink,
   or you can edit the following line and set a number here.
*/</span>
<span class="cp">#define BLINK_GPIO CONFIG_BLINK_GPIO
</span>
<span class="k">static</span> <span class="kt">uint8_t</span> <span class="n">s_led_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="cp">#ifdef CONFIG_BLINK_LED_RMT
</span><span class="k">static</span> <span class="n">led_strip_t</span> <span class="o">*</span><span class="n">pStrip_a</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">blink_led</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* If the addressable LED is enabled */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s_led_state</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* Set the LED pixel using RGB from 0 (0%) to 255 (100%) for each color */</span>
        <span class="n">pStrip_a</span><span class="o">-&gt;</span><span class="n">set_pixel</span><span class="p">(</span><span class="n">pStrip_a</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
        <span class="cm">/* Refresh the strip to send data */</span>
        <span class="n">pStrip_a</span><span class="o">-&gt;</span><span class="n">refresh</span><span class="p">(</span><span class="n">pStrip_a</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="cm">/* Set all LED off to clear all pixels */</span>
        <span class="n">pStrip_a</span><span class="o">-&gt;</span><span class="n">clear</span><span class="p">(</span><span class="n">pStrip_a</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">configure_led</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Example configured to blink addressable LED!"</span><span class="p">);</span>
    <span class="cm">/* LED strip initialization with the GPIO and pixels number*/</span>
    <span class="n">pStrip_a</span> <span class="o">=</span> <span class="n">led_strip_init</span><span class="p">(</span><span class="n">CONFIG_BLINK_LED_RMT_CHANNEL</span><span class="p">,</span> <span class="n">BLINK_GPIO</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="cm">/* Set all LED off to clear all pixels */</span>
    <span class="n">pStrip_a</span><span class="o">-&gt;</span><span class="n">clear</span><span class="p">(</span><span class="n">pStrip_a</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#elif CONFIG_BLINK_LED_GPIO
</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">blink_led</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* Set the GPIO level according to the state (LOW or HIGH)*/</span>
    <span class="n">gpio_set_level</span><span class="p">(</span><span class="n">BLINK_GPIO</span><span class="p">,</span> <span class="n">s_led_state</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">configure_led</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Example configured to blink GPIO LED!"</span><span class="p">);</span>
    <span class="n">gpio_reset_pin</span><span class="p">(</span><span class="n">BLINK_GPIO</span><span class="p">);</span>
    <span class="cm">/* Set the GPIO as a push/pull output */</span>
    <span class="n">gpio_set_direction</span><span class="p">(</span><span class="n">BLINK_GPIO</span><span class="p">,</span> <span class="n">GPIO_MODE_OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#endif
</span>
<span class="kt">void</span> <span class="nf">app_main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>

    <span class="cm">/* Configure the peripheral according to the LED type */</span>
    <span class="n">configure_led</span><span class="p">();</span>

    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Turning the LED %s!"</span><span class="p">,</span> <span class="n">s_led_state</span> <span class="o">==</span> <span class="nb">true</span> <span class="o">?</span> <span class="s">"ON"</span> <span class="o">:</span> <span class="s">"OFF"</span><span class="p">);</span>
        <span class="n">blink_led</span><span class="p">();</span>
        <span class="cm">/* Toggle the LED state */</span>
        <span class="n">s_led_state</span> <span class="o">=</span> <span class="o">!</span><span class="n">s_led_state</span><span class="p">;</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">CONFIG_BLINK_PERIOD</span> <span class="o">/</span> <span class="n">portTICK_PERIOD_MS</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

      
    
  </div>
</section>


<section class="section is-small">
  <div class="container">
    <div class="columns is-multiline is-desktop">
      
      <div class="column is-half">
        <h2 class="title is-2">Prototype</h2>
        <p class="subtitle is-4">A photo of the actual setup.</p>
        <a href="/assets/images/tutorials/blinky-esp32c3-prototype.jpg"><img
            src="/assets/images/tutorials/blinky-esp32c3-prototype.jpg" alt="Blinky with ESP-IDF in VS Code on ESP32-C3 prototype"></a>
      </div>
      

      

      

      
      <div class="column is-half">
        <h2 class="title is-2">Serial console</h2>
        <p class="subtitle is-4">Serial output from the firmware.</p>
        <a href="/assets/images/tutorials/blinky-esp-idf-esp32c3-console.png"><img
            src="/assets/images/tutorials/blinky-esp-idf-esp32c3-console.png" alt="Blinky with ESP-IDF in VS Code on ESP32-C3 serial console"></a>
      </div>
      

      
    </div>
  </div>
</section>



<section class="section is-small">
  <div class="container">
    <div class="content is-medium">
      <h2 class="title is-2">Description</h2>
      <ol>
  <li>Open VS Code IDE</li>
  <li>Plug in the dev board</li>
  <li>In the command pallette, choose <code class="language-plaintext highlighter-rouge">ESP-IDF: Show example projects</code>
  <a href="http://localhost:4000/assets/images/tutorials/hello-esp-idf-esp32s3-step2.png"><img src="http://localhost:4000/assets/images/tutorials/hello-esp-idf-esp32s3-step2.png" alt="" /></a></li>
  <li>Choose <code class="language-plaintext highlighter-rouge">blink</code> as the example project
  <a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-blink.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-blink.png" alt="" /></a></li>
  <li>Choose port 🔌, device target, flash method ⭐️ and then build, flash and monitor 🔥 from the bottom green status bar.
  <a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-build.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-build.png" alt="" /></a>
    <ul>
      <li>Choose port <code class="language-plaintext highlighter-rouge">/dev/cu.SLAB_USBtoUART</code> in the bottom green status bar icon 🔌
<a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-port.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-port.png" alt="" /></a></li>
      <li>Choose device target <code class="language-plaintext highlighter-rouge">esp32c3</code>
<a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-device.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-device.png" alt="" /></a></li>
      <li>Choose debugging via <code class="language-plaintext highlighter-rouge">ESP32-C3 chip via builtin USB-JTAG)</code>
<a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-debugging.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-debugging.png" alt="" /></a></li>
      <li>Choose <code class="language-plaintext highlighter-rouge">UART</code> as the flash method in the bottom green status bar icon ⭐️
<a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-flash.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-flash.png" alt="" /></a></li>
    </ul>
  </li>
  <li>Build, Flash and monitor in the bottom green status bar icon 🔥</li>
  <li>Watch the serial monitor come up automatically in the terminal
  <a href="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-all.png"><img src="http://localhost:4000/assets/images/tutorials/blinky-esp-idf-esp32c3-all.png" alt="" /></a></li>
</ol>

    </div>
  </div>
</section>

<section class="section is-small">
  <div class="container">
    <h2 class="title is-2">References</h2>

    <div class="content">
      <ol>
        
        <li id="footnote-1"><a href="https://dl.espressif.com/dl/schematics/SCH_ESP32-C3-DEVKITM-1_V1_20200915A.pdf">Schematic of ESP32-C3-DevKitM-1</a></li>
        
        <li id="footnote-2"><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32c3/hw-reference/esp32c3/user-guide-devkitm-1.html#pin-layout">Pinouts</a></li>
        
        <li id="footnote-3"><a href="https://github.com/espressif/arduino-esp32/blob/master/variants/esp32c3/pins_arduino.h">Arduino Pins</a></li>
        
      </ol>
    </div>
  </div>
</section>


<footer class="footer">
  <div class="content has-text-centered">
    <p>
      <a property="dct:title" rel="cc:attributionURL" href="https://hutscape.com">Hutscape</a> © 2022 by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://sayan.ee">Sayanee Basu</a> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY 4.0</a>
      <br>
      The source code is licensed <a href="http://opensource.org/licenses/mit-license.php">MIT</a>.
      <br>
      <a href="https://www.flaticon.com/free-icon/home_6675253?related_id=6675253&origin=tag" title="house icons">House logo</a> created by smashingstocks, Flaticon </a>
    </p>
  </div>
</footer>
<!-- Scripts --><script>
document.addEventListener('DOMContentLoaded', () => {
  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

  if ($navbarBurgers.length > 0) {
    $navbarBurgers.forEach( el => {
      el.addEventListener('click', () => {
        const target = el.dataset.target;
        console.log(target)
        const $target = document.getElementById(target);
        el.classList.toggle('is-active');
        $target.classList.toggle('is-active');
      });
    });
  }
});
</script>
<script src="//use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.js"></script>
<script>anchors.add()</script>

</body>
</html>
